<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Checkout – Maa Mobile</title>
  <link rel="icon" href="assets/logo.svg" type="image/svg+xml"/>
  <link rel="stylesheet" href="styles.css"/>
  <script defer src="config.js"></script>
  <script defer src="cart.js"></script>
  <script defer src="checkout.js"></script>
</head>
<body>
  <header class="header">
    <div class="bar">
      <a class="logo" href="./">
        <img src="assets/logo.svg" alt="Maa Mobile logo" width="36" height="36"/>
        <div class="title">Maa Mobile</div>
      </a>
      <div></div>
      <div class="actions">
        <a class="badge" href="./">⬅ Back to shop</a>
      </div>
    </div>
  </header>

  <main style="max-width:1000px;margin:16px auto;padding:0 16px;display:grid;grid-template-columns:1fr 360px;gap:16px;align-items:start;">
    <section style="background:#fff;border:1px solid #eee;border-radius:14px;padding:14px;">
      <h2>Delivery Details</h2>
      <form id="checkoutForm" style="display:grid;gap:10px;">
        <div style="display:grid;gap:6px;">
          <label>Full Name</label>
          <input name="name" required placeholder="Your name" style="padding:10px;border:1px solid #ddd;border-radius:10px;"/>
        </div>
        <div style="display:grid;gap:6px;">
          <label>Phone</label>
          <input name="phone" required placeholder="10-digit phone" pattern="\d{10,12}" style="padding:10px;border:1px solid #ddd;border-radius:10px;"/>
        </div>
        <div style="display:grid;gap:6px;">
          <label>Address</label>
          <textarea name="address" required rows="3" placeholder="House, street, landmark, city, PIN" style="padding:10px;border:1px solid #ddd;border-radius:10px;"></textarea>
        </div>

        <div style="display:grid;gap:6px;">
          <label>Payment Method</label>
          <div style="display:flex;gap:10px;flex-wrap:wrap;">
            <label class="badge"><input type="radio" name="pay" value="COD" checked/> &nbsp;Cash on Delivery</label>
            <label class="badge"><input type="radio" name="pay" value="UPI"/> &nbsp;UPI</label>
          </div>
        </div>

        <div id="upiBox" class="hidden" style="border:1px dashed #e7e3ff;border-radius:12px;padding:12px;">
          <h3>Pay via UPI</h3>
          <p class="small">Scan code or tap the button to open your UPI app.</p>
          <img src="assets/upi-qr.svg" alt="UPI QR" style="width:180px;height:180px;object-fit:contain;background:#fff;border:1px solid #eee;border-radius:8px;"/>
          <div style="margin-top:8px;">
            <div><strong>UPI:</strong> <span id="upiIdText"></span> (<span id="upiNameText"></span>)</div>
            <a id="upiDeepLink" class="btn primary" href="#">Pay now</a>
          </div>
        </div>

        <div style="display:grid;gap:6px;">
          <label>Send order to shop WhatsApp (optional)</label>
          <input name="whatsapp" placeholder="Owner WhatsApp number (e.g., 9198XXXXXXXX)" style="padding:10px;border:1px solid #ddd;border-radius:10px;"/>
          <p class="small">If left empty, we use the number configured in <code>config.js</code>.</p>
        </div>

        <button class="btn primary" type="submit">Place Order</button>
      </form>
    </section>

    <aside style="background:#fff;border:1px solid #eee;border-radius:14px;padding:14px;">
      <h3>Order Summary</h3>
      <div id="summaryItems" class="cart-items" style="max-height:340px;"></div>
      <div class="cart-total">
        <div class="row"><span>Items</span><span id="sumCount">0</span></div>
        <div class="row"><span>Subtotal</span><span id="sumSubtotal">₹0</span></div>
        <div class="row total"><span>Total</span><span id="sumTotal">₹0</span></div>
      </div>
    </aside>
  </main>
</body>
</html>